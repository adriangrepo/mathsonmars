"use strict";function mathQuiz(){var t=document.getElementById("activity");if(t){var a=t.getAttribute("data-activityjson"),u=s(a);if(u!==!1){Se=u.session_id,ke=u.start_time,we=u.category_name,Te=u.activity_name,_e=u.strategy_name,Le=u.activity_level,Me=u.activity_progress,Ve=u.time_limit,We=u.total_questions,Be=u.answer_format,qe=u.activity_variables,He=u.question_ids,De=u.strategy_qualifier,Ee=u.activity_id;var c=u.questions,d=u.answers;if(_e===Je||_e===Ze)var h=u.data1,m=u.data2,I=u.data3,x=u.data4;else if(_e===Qe)var b=u.data1,y=u.data2,S=u.data3;else if(_e===tn)var k=u.data1,w=u.data2,E=u.data3,T=u.data4,_=u.data5,L=u.data6;else if(_e===on)var M=u.data1,V=u.data2,W=u.data3,B=u.data4,q=u.data5,L=(u.data6,u.activity_variables),D=u.data7}if(_e===Je||_e===Ze){if(c&&d){he=n(c,I,h,m,d,x),o();var H=g();f(H),p(),v()}}else if(_e===Qe)De===bn?(he=e(b,y,S,c),g(),o(),p(),v()):De===yn?(he=e(b,y,S,c),g(),o(),p(),v()):De===Sn&&(he=e(b,y,S,c),g(),o(),p(),v());else if(_e===tn){if(we===Bn){ye=!1,l(),he=r(L,k,w,E,T,_,d);var H=g();f(H),o(),p(),v()}}else if(_e===on){if(we===Vn||we===Wn||we===Bn||we===qn){ye=!0,he=i(L,c,d,M,V,W,B,q,D);var H=g();De!=_n&&f(H),o(),p(),v()}}else"some sort of box question"===_e&&(kt(0,10,50,50,7,St(7),.5,2),kt(0,40,50,50,4,St(4),.5,2),C())}}function t(t){var e;return t&&(e=t.split(",")),e}function e(e,n,r,a){var i=Ut(e),s=t(i),o=Ut(n),u=t(o),c=Ut(r),l=t(c);if(Gt(1===a.length,"generateNumberBondEquations() len(rawQuestions)===1"),1===a.length)var f=a[0];else var f="";var d=[],p=[],v=[],g=[],h=!1,m=[],I=[],x=[];De===bn?x=l:De===yn?x=l:De===Sn&&(x=s);var b=or("currentIndex","wholeValues","part1Values","part2Values","questionText","answers","startTimes","corrects","givenAnswers","elapsedTimeList","sessionFinished","hints","helps"),y=b(0,s,u,l,f,x,d,p,v,g,h,m,I);return y}function n(t,e,n,r,a,i){var s=Ut(t),o=s.split(","),a=Ut(a),u=a.split(","),e=Ut(e),c=e.split(","),n=Ut(n),l=n.split(","),r=Ut(r),f=r.split(","),i=Ut(i),d=i.split(","),p=[],v=[],g=[],h=[],m=!1,I=[],x=[];Gt("array"==zt(o),"assert questions is array");var b=or("currentIndex","questions","answers","linePositions","jumpValues","stage1Questions","flips","startTimes","corrects","givenAnswers","elapsedTimeList","sessionFinished","hints","helps"),y=b(0,o,u,c,l,f,d,p,v,g,h,m,I,x);return y}function r(e,n,r,i,s,o,u){var c=Ut(n),l=t(c),f=Ut(r),d=t(f),p=Ut(i),v=t(p),g=Ut(s),h=t(g),m=Ut(o),I=t(m),x=Ut(u),b=t(x),y=[],S=[],k=[],w=[],E=!1,T=[],_=[],L=[],e=parseInt(e);if(2===e)for(var M=0;M<l.length;M++)L.push(a(l[M],d[M],h[M]));var V=or("currentIndex","numVariables","var1Values","var2Values","var3Values","op1Values","op2Values","questions","answers","startTimes","corrects","givenAnswers","elapsedTimeList","sessionFinished","hints","helps"),W=V(0,e,l,d,v,h,I,L,b,y,S,k,w,E,T,_);return W}function a(t,e,n){var r=parseInt(t),a=parseInt(e),i="";return"*"===n&&(i=r.toString()+" "+jn+" "+a.toString()),i}function i(t,e,n,r,a,i,s,o,u){var c,l=[],f=[],d=[],p=[],v=!1,g=[],h=[],m=[],I=e.split(","),n=Ut(n),x=n.split(","),r=Ut(r),b=r.split(","),a=Ut(a),y=a.split(","),i=Ut(i),S=i.split(","),t=parseInt(t),o=Ut(o),k=o.split(",");if(u){var w=Ut(u);c=w.split(",")}if(s){var s=Ut(s);m=s.split(",")}var E=[],T=[];2===t?(E=pe(k,t),T=pe(m,t)):3===t&&(E=de(k,t),T=de(m,t));var _=or("currentIndex","numVariables","questions","answers","hintTexts","totals","partTypes","partNames","partValues","startTimes","corrects","givenAnswers","elapsedTimeList","sessionFinished","hints","helps","boxMethodThings"),L=_(0,t,I,x,b,y,S,T,E,l,f,d,p,v,g,h,c);return L}function s(t){try{var e=JSON.parse(t);if(e&&"object"==typeof e&&null!==e)return e}catch(n){}return!1}function o(){var t;t=ue(he.answers),u(t),c()}function u(t){Gt("number"==zt(t),"answerLength is int type: "+zt(t));var e="80px";e=2>=t?"40px":4>=t?"80px":"120px";var n=document.getElementById("text_answer");n.setAttribute("style","width:"+e),n.focus()}function c(){var t=document.getElementById("text_answer");t.value="",t.setAttribute("style","background-color:"+Fe)}function l(){var t=document.getElementById("text_answer");t.value="",t.disabled=!0,t.setAttribute("style","background-color: gray")}function f(t){document.getElementById("text_question").innerHTML=t}function d(){var t=Snap("#svg_result");t.clear(),document.getElementById("text_answer").style.visibility="hidden",document.getElementById("question_title").innerHTML="",document.getElementById("question_description").innerHTML="",document.getElementById("text_question").innerHTML=""}function p(){if(_e===Je||_e===Ze){if("2"===qe.toString()){Gt(he.jumpValues.length.toString()===(2*We).toString(),"assert jumps length is twice question length");var t=he.currentIndex,e=he.linePositions.slice(3*t,3*t+3),n=he.jumpValues.slice(2*t,2*t+2);we===Vn?ht(e,n):we===Wn&&It(e,n)}}else _e===Qe?De===bn?K():De===Sn?U():De===yn&&U():_e===tn?De===bn&&Y():_e===on&&(we!==Vn&&we!==Wn&&we!==Bn&&we!==qn||rt());_t()}function v(){Ft()}function g(){var t="";if(he){if(t=!1,he.currentIndex<We){for(var e=0,n=0;n<he.elapsedTimeList.length;n++)e+=he.elapsedTimeList[n];if(1e3*Ve>e){var r=Date.now();he.startTimes[he.currentIndex]=r,_e===Qe?y():_e===on&&De===_n?(b(),t=he.questions[he.currentIndex]):t=he.questions[he.currentIndex]}}}return t}function h(t){if(he.sessionFinished!==!0){var e=he.givenAnswers[he.currentIndex];void 0===e&&(e="");var n=e+t;he.givenAnswers[he.currentIndex]=n,I(n)}}function m(t){he.sessionFinished!==!0&&(he.givenAnswers[he.currentIndex]=t,x(t),L())}function I(t){var e=document.getElementById("text_answer");e!==document.activeElement&&x(t)}function x(t){var e=document.getElementById("text_answer");e.value!==t&&(e.value=t)}function b(){var t=document.getElementById("question_description"),e=he.partNames[he.currentIndex],n=he.boxMethodThings[he.currentIndex],r=he.partValues[he.currentIndex];1!=r[1]&&(n+="s");var a=e[1]+" has "+r[1]+" "+n+". ";a=a+e[0]+" has "+r[0]+" times as many "+n+" as "+e[1]+". ",a=a+"How many "+n+" does "+e[0]+" have?",t.innerHTML=a}function y(){var t=document.getElementById("question_description"),e=he.questionText;if(he.currentIndex<We){if(_e===Qe)if(De===bn){var n=he.wholeValues[he.currentIndex],r=he.part1Values[he.currentIndex],a=e.replace("#w",n.toString());a=a.replace("#p1",r.toString()),a="1"===r.toString()?a.replace("#s","circle"):a.replace("#s","circles"),t.innerHTML=a}else if(De===Sn){var r=he.part1Values[he.currentIndex],i=he.part2Values[he.currentIndex],a=r.toString()+" "+zn+" "+i.toString()+" "+Un+" ?";t.innerHTML=a}else if(De===yn){var n=he.wholeValues[he.currentIndex],r=he.part1Values[he.currentIndex],a=r.toString()+" "+zn+" ? "+Un+" "+n.toString();t.innerHTML=a}}else t.innerHTML=""}function S(){if(he.sessionFinished===!0)return"Finished";if(!(he.currentIndex>=he.givenAnswers.length)){var t=he.answers[he.currentIndex],e=he.givenAnswers[he.currentIndex];return e.length<t.length?"Insufficient":e===t?(he.corrects[he.currentIndex]=!0,w(),k(),Tt(!0),"Correct"):(he.corrects[he.currentIndex]=!1,w(),k(),Tt(!1),"Incorrect")}return he.currentIndex>0?(B("Indexing error"),"Finished"):void 0}function k(){if(_e===Je||_e===Ze){var t=he.currentIndex;if("2"===qe.toString()){Gt(he.jumpValues.length.toString()===(2*We).toString(),"assert jumps length is twice question length");var e=he.linePositions.slice(3*t,3*t+3),n=he.jumpValues.slice(2*t,2*t+2);we===Vn?bt(e,n):we===Wn&&yt(e,n)}}}function w(){var t=Date.now();he.elapsedTimeList[he.currentIndex]=t-he.startTimes[he.currentIndex]}function E(){var t=document.getElementById("question_description");t.value=""}function T(){var t=document.getElementById("question_title");t.value=""}function _(){if(he.currentIndex<We-1){var t=he.givenAnswers[he.currentIndex];if(t){if(t.length>=he.answers[he.currentIndex].length)return At(!0),!0;At(!1)}else At(!1);return!1}return!0}function L(){if(he.currentIndex<We-1){var t=he.givenAnswers[he.currentIndex];return t?_():At(!1),!1}return!0}function M(){if(he.currentIndex<We-1){if(_()===!0){he.currentIndex+=1;if(he.totalTime>=1e3*Ve)B();else{he.currentIndex===We-1?(c(),E(),Et(),Ot()):(c(),E(),Et(),Dt());var t=g();_e===Qe?(c(),E(),Et(),p()):t!==!1?(c(),E(),Et(),De!=_n&&f(t),p()):B()}}}else B()}function V(){for(var t,e=[],n=[],r=[],a=[],i=0;We>i;i++)n.push(he.elapsedTimeList[i]),e.push(he.corrects[i]);for(var i=0;i<he.hints.length;i++)r.push(he.hints[i]);for(var i=0;i<he.helps.length;i++)a.push(he.helps[i]);var s=!1;he.totalTime>=1e3*t&&(s=!0);var o={};o.session_id=Se,o.start_time=ke,o.results=e,o.elapsed_times=n,o.hints=r,o.helps=a,o.category_name=we,o.activity_id=Ee,o.activity_name=Te,o.strategy_name=_e,o.activity_level_progress=Me,o.activity_level=Le,o.question_ids=He,o.time_expired=s;var u=JSON.stringify(o);return u}function W(){var t=document.getElementById("csrf_token").getAttribute("content"),e=new XMLHttpRequest;e.open("POST","/activity_completed/"),e.setRequestHeader("X-CSRFToken",t),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=200;e.status===t?window.location.href=e.responseText:window.location.href="/level"}};var n=V();e.send(n)}function B(){if(ye=!1,he.sessionFinished=!0,he.totalTime>=1e3*Ve){d(),pt();var t=Qn/60;se(Ve)&&(t=Ve/60),f("Your time limit is set to "+t+" minutes \nYour time is up \nSending results to Professor Fuzzplus...")}else _t(),d(),pt(),f("Sending results to Professor Fuzzplus...");W()}function q(t,e){return t+e}function D(t,e){var n=te(t,e);return n}function H(){for(var t=Snap("#text_question"),e="Here is some dynamic exciting announcement",n=e.split(" "),r=n.length,a=750,i=0;r>i;i++)!function(){var e=t.text(350,100,n[i]).attr({fontSize:"120px",opacity:0,"text-anchor":"middle"});setTimeout(function(){Snap.animate(0,1,function(t){e.attr({"font-size":100*t,opacity:t})},a,mina.bounce,function(){e.remove()})},i*a)}()}function A(t){var e=new Snap(".rocketsvg");e.attr({viewBox:"0 0 600 600"});e.rect(100,50,300,100,20,20).attr({stroke:"#123456",strokeWidth:20,fill:"red",opacity:.2}),e.text(0,100,t)}function O(){var t=Snap("#svg_area"),e=new Snap.Matrix;e.translate(100,100),e.rotate(20,100,100);var n=t.text(10,10,"Hello World");n.attr({"font-size":100}),n.transform(e);var r=t.circle(100,100,50);r.animate({r:100},5e3)}function C(){var t=Snap("#snapsvg"),e=t.paper.rect(40,190,170,70,10,10);e.attr({fillOpacity:"0",stroke:"#1f2c39",strokeWidth:3});var n=t.paper.line(125,190,475,150);n.attr({stroke:"#1f2c39",strokeWidth:3});var r=t.paper.polyline("-5,5 0,-5 5,5");r.transform("t475, 150, r70")}function N(t,e,n,r,a,i){Gt("number"==zt(t),"xStart is number type: "+zt(t)),Gt("number"==zt(e),"yStart is number type: "+zt(e)),Gt("number"==zt(n),"xEnd is number type: "+zt(n)),Gt("number"==zt(r),"yEnd is number type: "+zt(r));var s=Snap("#snapsvg"),o=s.paper.line(t,e,n,r);o.attr({stroke:a,strokeWidth:i})}function F(t,e,n,r,a){var i=Snap("#snapsvg"),s=i.paper.rect(t,e,n,r);s.attr({stroke:a,strokeWidth:2,fillOpacity:0})}function R(t,e,n){var r=Snap("#snapsvg"),a=r.paper.polyline("-5,5 0,-5 5,5"),i="t"+t+","+e+",r"+n;a.transform(i)}function P(t,e,n){var r=Snap("#snapsvg"),a=r.paper.circle(Zn*t,e,er);a.attr({stroke:n,strokeWidth:3,fill:n})}function j(t,e,n,r,a){var i=Snap("#snapsvg"),s=i.paper.text(t,e,n);a&&s.attr({fill:a}),r?s.attr({"font-size":r}):s.attr({"font-size":24})}function z(t,e,n,r,a,i){var s=Snap("#snapsvg"),o=t.toString(),u=n.toString(),c=a.toString(),l=e.toString(),f=r.toString(),d=i.toString(),p="M"+o+","+l+" Q"+u+","+f+" "+c+","+d,v=s.paper.path(p);v.attr({stroke:"black",strokeWidth:1,fill:"none"})}function G(){var t=Snap("#snapsvg");t.clear();var e=he.part1Values[he.currentIndex],n=parseInt(e),r=he.part2Values[he.currentIndex],a=parseInt(r),i=he.wholeValues[he.currentIndex];parseInt(i);F(4*Zn,0,2*Zn,2*tr,je),F(2*Zn,4*tr,2*Zn,2*tr,je),F(6*Zn,4*tr,2*Zn,2*tr,je),De===Sn?(j(4*Zn+Zn,tr,"?",xn),j(2*Zn+Zn,4*tr+tr,e,xn),j(6*Zn+Zn,4*tr+tr,r,xn)):De===yn&&(j(4*Zn+Zn,tr/2,i,xn),j(2*Zn+Zn,6*tr,e,xn),j(n*Zn+2*Zn+(n*Zn+a/2*Zn),6*tr,"?",xn)),N(2*Zn+Zn,4*tr,4*Zn+Zn,2*tr,je,2),N(6*Zn+Zn,4*tr,4*Zn+Zn,2*tr,je,2)}function U(t){var e=Snap("#snapsvg");e.clear();var n,r=he.part1Values[he.currentIndex],a=parseInt(r),i=he.part2Values[he.currentIndex],s=parseInt(i),o=he.wholeValues[he.currentIndex],u=parseInt(o);n=5>a?Zn:7>a?2*Zn:9>a?3*Zn:4*Zn;var c=4*Zn+Zn+n,l=2*Zn+Zn-Zn+n,f=6*Zn+Zn+Zn+n,d=4*tr,p=2*tr,v=u*Zn/2,g=a*Zn/2,h=s*Zn/2,m=a*Zn;if(t){var I=c-v,x=c-v+m;kt(I,tr,50,50,a,St(a),.5,2,Pe),kt(x,tr,50,50,s,St(s),.5,2,Pe),gt(c-v-10,tr-10,u*Zn+20,tr+20,"blue","blue")}else kt(c-v,tr,50,50,u,St(u),.5,2,Pe);kt(l-g,d,50,50,a,St(a),.5,2,Pe),kt(f-h,d,50,50,s,St(s),.5,2,Pe),N(l,d,c,p,je,2),N(f,d,c,p,je,2);var b=o,y=i;De===Sn?b="?":De===yn&&(y="?"),j(c,tr/2,b,xn),j(l,6*tr,r,xn),j(f,6*tr,y,xn)}function Y(){var t=Snap("#snapsvg");t.clear();var e=he.var1Values[he.currentIndex],n=(parseInt(e),he.var2Values[he.currentIndex]),r=(parseInt(n),he.answers),a=[],i=he.var2Values.map(Number),s=i.sort(function(t,e){return t-e}),o=[],u=r.length;if(Yn>u&&Zt(e)){var c,l,f=s.slice(-1)[0];if(c=Qt(e))l=Qt(f);else{var c=parseFloat(e);l=parseFloat(f)}for(var d=Yn-u,p=1;d+1>p;p++)o.push((l+p)*c)}if(o.length>0){var v=o.toString().split(",");a=r.concat(v)}else a=r;var g=50;nt(g,a,t)}function K(){var t=Snap("#snapsvg");t.clear();var e=he.part1Values[he.currentIndex],n=parseInt(e),r=he.part2Values[he.currentIndex],a=parseInt(r),i=he.wholeValues[he.currentIndex],s=parseInt(i),o=100;6>=s?Q(s,i,o,n,e,a,t):s%2==0?X(s,i,o,n,e,a,t):n%2==0?Z(s,i,o,n,e,a,t):tt(s,i,o,n,e,a,t)}function Q(t,e,n,r,a,i,s){var o=[],u=[];j(Zn*t,20+rr,e);for(var c=0;r>c;c++){var l=s.circle(100*c+50,n,30);l.attr({fill:"coral",stroke:"coral",strokeOpacity:.3,strokeWidth:10}),o.push(l)}for(var c=0;i>c;c++){var l=s.circle(100*c+100*r+50,n,30);l.attr({fill:"lightblue",stroke:"lightblue",strokeOpacity:.3,strokeWidth:10}),u.push(l)}F(10,n/2+10,2*r*Zn-10,n-20,je),F(2*r*Zn,n/2+10,2*i*Zn-10,n-20,je),j(Zn*r,n+n/2+rr,a),j(Zn*(2*r+i),n+n/2+rr,"?"),N(10,50,Zn*t*2-10,50,je,2),R(12,50,270),R(Zn*t*2-12,50,90)}function X(t,e,n,r,a,i,s){for(var o,u=[],c=!0,l=-1,f=0;r>f;f++){c?(o=n,c=!1,l++):(o=n+80,c=!0);var d=s.circle(100*l+50,o,30);d.attr({fill:"coral",stroke:"coral",strokeOpacity:.3,strokeWidth:10}),u.push(d)}r%2==0?$(n,r,i,s):J(n,r,i,s),j(Zn*t/2,20+rr,e),F(2,n/2,t*Zn,n+100,ze),r>1?j(Zn*r/2,n+75+n/2+rr,a):j(Zn*r/2,90+rr,a),i>1?j(Zn*r+i/2,n+75+n/2+rr,"?"):j(Zn*r+i/2,150+rr,"?")}function $(t,e,n,r){var a,i,s=[],o=!0,u=e/2;i=u-1;for(var c=0;n>c;c++){o?(a=t,o=!1,i++):(a=t+80,o=!0);var l=r.circle(100*i+50,a,30);l.attr({fill:"lightblue",stroke:"lightblue",strokeOpacity:.3,strokeWidth:10}),s.push(l)}F(10,t/2+10,e*Zn-10,t-20+80,ze),F(e*Zn,t/2+10,n*Zn-10,t-20+80,ze)}function J(t,e,n,r){var a,i,s,o=[],u=100,c=(e-1)/2;s=c-1;for(var l=0;n>l;l++){a?(i=t,a=!1,s++):(i=t+80,a=!0);var f=r.circle(u+100*s+50,i,30);f.attr({fill:"lightblue",stroke:"lightblue",strokeOpacity:.3,strokeWidth:10}),o.push(f)}N(10,60,Zn*(e+n)-10,60,je,2),e>2&&n>2?N(Zn*(e-1),140,Zn*(e-1)+2*Zn,140,je,2):2>=e?N(Zn*(e-1)+10,140,Zn*(e-1)+2*Zn,140,je,2):2>=n&&N(Zn*(e-1),140,Zn*(e-1)+2*Zn-10,140,je,2),N(10,t+120,Zn*(e+n)-10,t+120,je,2),N(Zn*e+50,140,Zn*e+50,60,je,2),N(Zn*(e-1),t+120,Zn*(e-1),140,je,2),N(10,t+120,10,60,je,2),N(Zn*(e+n)-10,t+120,Zn*(e+n)-10,60,je,2)}function Z(t,e,n,r,a,i,s){for(var o,u=[],c=[],l=!0,f=-1,d=0;r>d;d++){l?(o=n,l=!1,f++):(o=n+80,l=!0);var p=s.circle(100*f+50,o,30);p.attr({fill:"coral",stroke:"coral",strokeOpacity:.3,strokeWidth:10}),u.push(p)}for(var d=0;i>d;d++){l?(o=n,l=!1,f++):(o=n+80,l=!0);var p=s.circle(100*f+50,o,30);p.attr({fill:"lightblue",stroke:"lightblue",strokeOpacity:.3,strokeWidth:10}),c.push(p)}j(t/2,20,e),r>1?j(Zn*r/2,n+75+n/2+rr,a):j(Zn*r/2,90+rr,a),i>1?j(Zn*(r+i/2),n+75+n/2+rr,"?"):j(Zn*(r+i/2),150+rr,"?"),N(10,60,2*Zn*((r+i-1)/2)+2*Zn-10,60,je,2),r>2&&i>2?N(Zn*(i-1)+Zn*r,140,Zn*(i-1)+Zn*r+2*Zn-10,140,je,2):2>=r?N(Zn*(i-1)+Zn*r,140,Zn*(i-1)+Zn*r+2*Zn-10,140,je,2):2>=i&&N(Zn*(i-1)+Zn*r,140,Zn*(i-1)+Zn*r+2*Zn-10,140,je,2),N(10,n+120,Zn*(r+(i-1)),n+120,je,2),N(Zn*r+(Zn*i-1)+Zn-10,140,Zn*r+(Zn*i-1)+Zn-10,60,je,2),N(Zn*r+(Zn*i-1)-Zn,n+120,Zn*r+(Zn*i-1)-Zn,140,je,2),N(Zn*r,n+120,Zn*r,60,je,2),N(10,n+120,10,60,je,2),F(2,n/2,(r+i+1)*Zn,n+100,ze)}function tt(t,e,n,r,a,i,s){for(var o,u=[],c=[],u=[],c=[],u=[],c=[],l=!0,f=-1,d=0;r>d;d++){l?(o=n,l=!1,f++):(o=n+80,l=!0);var p=s.circle(100*f+50,o,30);p.attr({fill:"coral",stroke:"coral",strokeOpacity:.3,strokeWidth:10}),u.push(p)}var o,f,v=100,g=(r-1)/2,h=0;f=g-1;for(var d=0;i>d;d++){l?(o=n,l=!1,f++):(o=n+80,l=!0);var p=s.circle(v+100*f+50,o,30);p.attr({fill:"lightblue",stroke:"lightblue",strokeOpacity:.3,strokeWidth:10}),c.push(p)}h=2>=i?10:0,j(t/2,20,e),r>1?j(Zn*r/2,n+75+n/2+rr,a):j(Zn*r/2,90+rr,a),i>1?j(Zn*(r+i/2),n+75+n/2+rr,"?"):j(Zn*(r+i/2),150+rr,"?"),N(10,60,Zn*(r+i)+Zn-10,60,je,2),1===r?N(Zn*(r-1)+10,140,Zn*(r-1)+2*Zn-h,140,je,2):N(Zn*(r-1),140,Zn*(r-1)+2*Zn-h,140,je,2),N(10,n+120,Zn*(r+i-1)+h-10,n+120,je,2),N(Zn*r+Zn-h,140,Zn*r+Zn-h,60,je,2),N(Zn*(r-1),n+120,Zn*(r-1),140,je,2),N(10,n+120,10,60,je,2),2>=i?(N(Zn*(r+i+1)-h,140,Zn*(r+i+1)-h,60,je,2),N(Zn*(r+i-1),140,Zn*(r+i+1)-10,140,je,2)):(N(Zn*(r+i+1)-h-10,140,Zn*(r+i+1)-h-10,60,je,2),N(Zn*(r+i-1)-h-10,140,Zn*(r+i+1)-10,140,je,2)),N(Zn*(r+i-1)+h-10,n+120,Zn*(r+i-1)+h-10,140,je,2),F(2,n/2,(r+i+1)*Zn,n+100,ze)}function et(){var t=Snap("#snapsvg"),e=[],n=[],r=he.part1Values[he.currentIndex],a=parseInt(r),i=he.part2Values[he.currentIndex],s=parseInt(i),o=he.wholeValues[he.currentIndex],u=parseInt(o),c=100;if(6>=u){t.clear(),j(Zn*u,0+rr,o),N(0,50,Zn*u*2,50,je,3),P(er/Zn,50,je),P(2*u,50,je);for(var l=0;a>l;l++){var f=t.circle(100*l+50,c,30);f.attr({fill:"coral",stroke:"coral",strokeOpacity:.3,strokeWidth:10}),e.push(f)}for(var l=0;s>l;l++){var d=100*l+100*a+50,f=t.circle(d,c,30);f.attr({fill:"blue",stroke:"blue",strokeOpacity:.3,strokeWidth:10}),n.push(f),vt(f,25,30,"blue","lightblue")}F(0,c/2+10,2*a*Zn,c-20,ze),F(2*a*Zn,c/2+10,2*s*Zn,c-20,ze),j(Zn*a,c+c/2+rr,r),j(Zn*(2*a+s),c+c/2+rr,"?")}}function nt(t,e,n){var r,a=-1,i=ge(e);Gt(e.length===Yn,"Is correct memorize array length");for(var s=0,o="",u=0,c=0;3>c;c++){a=-1;for(var l=0;Yn/3>l;l++){r=t+100*c,a++,o=s<i.length?i[s]:0;var f=ee(Kn),d=n.circle(120*a+50,r,40);d.attr({fill:f,stroke:f,fillOpacity:.5,strokeOpacity:.3,strokeWidth:10}),u=jt(o);var o,p=120*a+u,v=r+10,g=n.paper.text(p,v,o);g.attr({"font-size":xn,cursor:"default",pointer_events:"none"});var h=n.group(d,g);h.data("value",o),h.click(ir),s+=1}}}function rt(){var t=Snap("#snapsvg");t.clear();for(var e=he.partTypes[he.currentIndex],n=he.numVariables,r=he.partNames[he.currentIndex],a=he.partValues[he.currentIndex],i=he.totals[he.currentIndex],s=he.answers[he.currentIndex],o=0,u=0,c=0,l=0,f=2*tr,d=f+tr/2+10,p=f-tr/2,v="",g="",h="",m="",I=Zn,x=0,b=0;b<he.totals.length;b++)x=Pt(he.totals[b]),0===b&&(o=x),x>o&&(o=x);if("2"===n.toString())if(we===Vn?e===ln?(u=Pt(a[0]),c=Pt(a[1]),v="?",g=u.toString(),h=c.toString()):e===dn?(c=Pt(a[1]),u=Pt(s),v=i.toString(),g="?",h=c.toString()):e===fn&&(u=Pt(a[0]),c=Pt(s),v=i.toString(),g=u.toString(),h="?"):we===Wn?e===ln&&(v=Pt(a[0]),u=Pt(a[1]),c=Pt(s),g=u.toString(),h="?"):we===Bn?e!==ln&&e!==pn||(u=Pt(a[0]),c=Pt(a[1]),v="?",g=u.toString(),h=c.toString()):we===qn&&e===ln&&(u=Pt(a[0]),c=Pt(a[1]),v=Pt(a[0]),g=u.toString(),h=c.toString()),we===Bn){if(e===ln)if(_e===on&&De===_n){var y=r[0],S=r[1];I=5,ut(y,S,i,p,I,u,v,d,g,c,h,f)}else ot(I,u,i,p,v,d,g,c,h,f,o)}else if(we===qn)e===ln&&ct(I,u,i,p,v,d,g,c,h,f,o);else if(In>=o){if(De===kn||De===wn)at(I,u,i,p,v,d,g,c,h,f);else if(De===En||De===Tn){var y=r[0],S=r[1];it(I,u,i,p,v,d,g,c,h,f,y,S)}}else e===ln&&ot(I,u,i,p,v,d,g,c,h,f,o);else"3"===n.toString()&&(e===vn&&(we===Vn?(u=Pt(a[0]),c=Pt(a[1]),l=Pt(a[2]),v="?",g=u.toString(),h=c.toString(),m=l.toString()):we===Wn&&(v=Pt(a[0]),u=Pt(a[1]),c=Pt(a[2]),l=Pt(s),g=u.toString(),h=c.toString(),m="?")),st(I,u,i,p,v,d,g,c,h,f,l,m,o))}function at(t,e,n,r,a,i,s,o,u,c){var l=t+Zn*e;j(t+n*Zn/2,r,a,xn),j(t+e*Zn/2,i,s,xn),j(t+e*Zn+o*Zn/2,i,u,xn),kt(t,c,Zn,tr,e,St(e),.2,2,ze),kt(l,c,Zn,tr,o,St(o),.2,2,ze),F(t,c,e*Zn,tr,Re),F(l,c,o*Zn,tr,Re),N(t,r+10,t+n*Zn-10,r+10,je,2),R(t+2,r+10,270),R(t+n*Zn-12,r+10,90)}function it(t,e,n,r,a,i,s,o,u,c,l,f){var d=l.length;f.length>d&&(d=f.length);var p=20*d+t,v=e;o>e&&(v=o),j(p+v*Zn+40,c+tr,a,xn),j(p+e*Zn/2,i,s,xn),j(p+o*Zn/2,i+tr,u,xn),j(t,i,l,xn),j(t,i+tr,f,xn),kt(p,c,Zn,tr,e,St(e),.2,2,ze),kt(p,c+tr,Zn,tr,o,St(o),.2,2,ze);var g=p+Zn*v+10,h=c,m=c+tr+tr,I=p+Zn*v+60,x=c+tr;z(g,h,I,x,g,m),R(p+Zn*v+10,c,300),R(p+Zn*v+10,c+tr+tr,240)}function st(t,e,n,r,a,i,s,o,u,c,l,f,d){var p=t+Zn*e,v=t+Zn*e+Zn*o,g=t+n*Zn/2,h=t+e*Zn/2,m=t+e*Zn+o*Zn/2,I=t+e*Zn+o*Zn+l*Zn/2,x=t,b=e*Zn,y=o*Zn,S=l*Zn,k=t,w=t+n*Zn-10,E=t+2,T=t+n*Zn-12;if(d>In){var _=In/d;p*=_,v*=_,g*=_,h*=_,m*=_,I*=_,x*=_,b*=_,y*=_,S*=_,k*=_,w*=_,T*=_,E*=_}else kt(t,c,Zn,tr,e,St(e),.2,2,ze),kt(p,c,Zn,tr,o,St(o),.2,2,ze),kt(v,c,Zn,tr,l,St(l),.2,2,ze);j(g,r,a,xn),j(h,i,s,xn),j(m,i,u,xn),j(I,i,f,xn);var L=.2,M=2,V=Xn.WHITE,W=Xn.WHITE,B=Xn.WHITE;10>=e&&(V=St(e)),wt(x,c,b,tr,V,L,M,Re),10>=o&&(W=St(o)),wt(p,c,y,tr,W,L,M,Re),10>=l&&(B=St(l)),wt(v,c,S,tr,B,L,M,Re),N(k,r+10,w,r+10,je,2),R(E,r+10,270),R(T,r+10,90)}function ot(t,e,n,r,a,i,s,o,u,c,l){for(var f=[],d=[],p=[],v=In/n,g=o*Zn*v,h=t+n*Zn/2*v,m=t,I=t+n*Zn*v,x=t+2,b=t+(n*Zn-4)*v,y=t,S=0;e>S;S++)f.push(o),0===S?(p.push(y),d.push(y+g/2-4)):(p.push(y+g),d.push(y+g+g/2-4)),y=p[S];j(h,r,a,xn);var k=.2,w=2,E=Xn.WHITE;10>=o&&(E=St(o));for(var T=0;T<f.length;T++)wt(p[T],c,g,tr,E,k,w,Re),j(d[T],i,u,xn);N(m,r+10,I,r+10,je,2),R(x,r+10,270),R(b,r+10,90)}function ut(t,e,n,r,a,i,s,o,u,c,l,f){var d=[],p=[],v=[],g=t.length;e.length>g&&(g=e.length);var h=20*g+a,m=In/n,I=c*Zn*m,x=h+n*Zn/2*m,b=h,y=h+n*Zn*m,S=h+2,k=h+(n*Zn-4)*m,w=i;c>i&&(w=c);var E=h;j(a,o,t,xn),j(a,o+tr,e,xn);for(var T=0;i>T;T++)d.push(c),0===T?(v.push(E),p.push(E+I/2-4)):(v.push(E+I),p.push(E+I+I/2-4)),E=v[T];j(x,r,s,xn);var _=.2,L=2,M=Xn.WHITE;10>=c&&(M=St(c));for(var V=0;V<d.length;V++)wt(v[V],f,I,tr,M,_,L,Re),j(p[V],o,l,xn);wt(v[0],f+tr,I,tr,M,_,L,Re),j(p[0],o+tr,l,xn),N(b,r+10,y,r+10,je,2),R(S,r+10,270),R(k,r+10,90)}function ct(t,e,n,r,a,i,s,o,u,c,l){for(var f=[],d=[],p=In/n,v=e/o,g=v*Zn*p,h=t+n*Zn/2*p,m=t,I=t+n*Zn*p,x=t+2,b=t+(n*Zn-4)*p,y=t,S=0;o>S;S++)0===S?(d.push(y),f.push(y+g/2-4)):(d.push(y+g),f.push(y+g+g/2-4)),y=d[S];j(h,r,a,xn);var k=.2,w=2,E=Xn.WHITE;10>=v&&(E=St(v));for(var T=0;o>T;T++)wt(d[T],c,g,tr,E,k,w,Re),j(f[T],i,"?",xn);N(m,r+10,I,r+10,je,2),R(x,r+10,270),R(b,r+10,90)}function lt(){var t=Snap("#snapsvg");t.clear();for(var e=he.partTypes[he.currentIndex],n=he.numVariables,r=(he.partNames[he.currentIndex],he.partValues[he.currentIndex]),a=he.totals[he.currentIndex],i=he.answers[he.currentIndex],s=0,o=0,u=0,c=0,l=0,f=2*tr,d=f+tr/2+10,p=f-tr/2,v="",g="",h="",m="",I=Zn,x=0;x<he.totals.length;x++)0===x&&(s=he.totals[x]),he.totals[x]>s&&(s=he.totals[x]);10>=s?"2"===n.toString()?(e===ln?we===Vn?(u=Pt(r[0]),c=Pt(r[1]),v="?",g=u.toString(),h=c.toString()):we===Wn&&(v=Pt(r[0]),u=Pt(r[1]),c=Pt(i),g=u.toString(),h="?"):e===dn?we===Vn&&(c=Pt(r[1]),u=Pt(i),v=a.toString(),g="?",h=c.toString()):e===fn&&we===Vn&&(u=Pt(r[0]),c=Pt(i),v=a.toString(),g=u.toString(),h="?"),ft(o,I,u,a,p,v,d,f,c)):"3"===n.toString()&&(e===vn?we===Vn&&(u=Pt(r[0]),c=Pt(r[1]),l=Pt(r[2]),v="?",g=u.toString(),h=c.toString(),m=l.toString()):e===hn?we===Vn&&(u=Pt(i),c=Pt(r[1]),l=Pt(r[2]),v=a.toString(),g="?",h=c.toString()):e===gn?we===Vn&&(u=Pt(r[0]),c=Pt(i),l=Pt(r[2]),v=a.toString(),g=u.toString(),h="?"):e===mn&&we===Vn&&(u=Pt(r[0]),c=Pt(r[1]),l=Pt(i),v=a.toString(),g=u.toString(),h="?"),dt(u,c,p,v,d,g,l,m)):"2"===n.toString()||"3"===n.toString()}function ft(t,e,n,r,a,i,s,o,u){var t=e+Zn*n;j(e+r*Zn/2,a,i,xn),j(e+n*Zn/2,s,part1Text,xn),j(e+n*Zn+u*Zn/2,s,part2Text,xn),kt(e,o,Zn,tr,n,St(n),.2,2,ze),kt(t,o,Zn,tr,u,St(u),.2,2,ze),F(e,o,n*Zn,tr,Re),F(t,o,u*Zn,tr,Re),N(e,a+10,e+r*Zn-10,a+10,je,2),R(e+2,a+10,270),R(e+r*Zn-12,a+10,90)}function dt(t,e,n,r,a,i,s,o){var u=lMargin+Zn*t,c=lMargin+Zn*t+Zn*e;j(lMargin+total*Zn/2,n,r,xn),j(lMargin+t*Zn/2,a,i,xn),j(lMargin+t*Zn+e*Zn/2,a,part2Text,xn),j(lMargin+t*Zn+e*Zn+s*Zn/2,a,o,xn),F(lMargin,rodY,t*Zn,tr,Re),F(u,rodY,e*Zn,tr,Re),F(c,rodY,s*Zn,tr,Re),N(lMargin,n+10,lMargin+total*Zn-10,n+10,je,2),R(lMargin+2,n+10,270),R(lMargin+total*Zn-12,n+10,90)}function pt(){var t=Snap("#snapsvg");t.clear();var e=t.path("M62.9 14.9c-25-7.74-56.6 4.8-60.4 24.3-3.73 19.6 21.6 35 39.6 37.6 42.8 6.2 72.9-53.4 116-58.9 65-18.2 191 101 215 28.8 5-16.7-7-49.1-34-44-34 11.5-31 46.5-14 69.3 9.38 12.6 24.2 20.6 39.8 22.9 91.4 9.05 102-98.9 176-86.7 18.8 3.81 33 17.3 36.7 34.6 2.01 10.2.124 21.1-5.18 30.1").attr({id:"squiggle",fill:"none",strokeWidth:"4",stroke:"#ddff00",strokeMiterLimit:"10",strokeDasharray:"9 9",strokeDashOffset:"988.01"}),n=e.getTotalLength();e.attr({stroke:"#eef",strokeWidth:4,fill:"none","stroke-dasharray":"12 6","stroke-dashoffset":"180"}).animate({"stroke-dashoffset":10},4500,mina.easeinout);var r,a=t.path("M42.7,48.1c3.7-5.6,7.6-10.3,11.3-13.7L65,41.7c-1.7,4.7-4.5,10.2-8.2,15.7c-2.4,3.6-4.9,6.8-7.3,9.6l0.2,13.2l-9.1,13.7l0-19c-0.4,0.3-0.9,0.5-1.3,0.7l-6.7-4.5c0-0.6,0.1-1.2,0.3-1.9L15,77l9.1-13.7l12.8-5.2C38.4,54.9,40.4,51.5,42.7,48.1z M65,41.7l8.2-24.7L53.9,34.4l0,0").attr({id:"rocket",fill:"#34495e"}),i=t.g(a);setTimeout(function(){Snap.animate(0,n,function(t){r=e.getPointAtLength(t),i.transform("t"+parseInt(r.x-15)+","+parseInt(r.y-15)+"r"+(r.alpha-90))},4500,mina.easeinout)})}function vt(t,e,n,r,a){t.animate({r:e},1e3),t.stop().animate({fill:r,r:e},1e3,function(){t.attr({fill:a,r:n},1e3)})}function gt(t,e,n,r,a,i){var s=Snap("#snapsvg"),o=s.rect(t,e,n,r);o.attr({fillOpacity:0}),o.animate({stroke:a,strokeOpacity:0},1e3,function(){o.attr({stroke:i,strokeOpacity:1},1e3)})}function ht(t,e){if(t.length>0){Et();var n,r;n=Pt(e[0]),r=Pt(e[1]);var a=n+r;n>a?a=n:r>a&&(a=r);var i=t[0].toString();Pt(i);P(nr,Jn,Re),j(Zn*nr,Jn+10+rr,i);for(var s=1;a>=s;s++)P(s+nr,Jn,ze);N(Zn,Jn,Zn*ar,Jn,Re,3),R(Zn,Jn,270),R(Zn*ar,Jn,90)}}function mt(t){var e,n;e=Pt(t[0]),n=Pt(t[1]);var r="",a="";e>0&&(r="+"),n>0&&(a="+"),z(Zn*nr,Jn,Zn*(nr+e/2),$n,Zn*(e+nr),Jn),z(Zn*(e+nr),Jn,Zn*(e+nr+n/2),$n,Zn*(e+nr+n),Jn),P(e+nr,Jn,Re),P(e+n+nr,Jn,Re);var i="+";_e===Ze&&(i=""),j(Zn*(nr+e/2),$n+rr,r+e),j(Zn*(e+nr+n/2),$n+rr,a+n)}function It(t,e){Et();var n,r;n=Pt(e[0]),r=Pt(e[1]);var a=n+r;a>n?a=n:a>r&&(a=r);for(var i=Math.abs(a),s=1;i>=s;s++)P(ar-nr-s,Jn,ze);N(Zn,Jn,Zn*ar,Jn,Re,3);var o=t[0].toString();P(ar-nr,Jn,Re),j(Zn*(ar-nr),Jn+rr,o),R(Zn,Jn,270),R(Zn*ar,Jn,90)}function xt(t){var e,n;try{e=parseInt(t[0]),n=parseInt(t[1])}catch(r){}z(Zn*(ar-nr),Jn,Zn*(ar-nr+e/2),$n,Zn*(ar-nr+e),Jn),z(Zn*(ar-nr+e),Jn,Zn*(ar-nr+e+n/2),$n,Zn*(ar-nr+e+n),Jn),P(ar-nr+e,Jn,Re),P(ar-nr+e+n,Jn,Re),j(Zn*(ar-nr+e/2),$n+rr,e),j(Zn*(ar-nr+e+n/2),$n+rr,n)}function bt(t,e){Et(),ht(t,e),mt(e);var n,r,a,i;try{n=parseInt(e[0]),r=parseInt(e[1])}catch(s){}3===t.length&&(a=t[1].toString(),i=t[2].toString()),j(Zn*(n+nr),Jn+10+rr,a),j(Zn*(n+r+nr),Jn+10+rr,i)}function yt(t,e){Et(),It(t,e),xt(e);var n,r,a,i;try{n=parseInt(e[0]),r=parseInt(e[1])}catch(s){}3===t.length&&(a=t[1].toString(),i=t[2].toString()),j(Zn*(ar-nr+n),Jn+rr,a),j(Zn*(ar-nr+n+r),Jn+rr,i)}function St(t){var e;switch(t){case 0:e=Xn.WHITE;break;case 1:e=Xn.WHITE;break;case 2:e=Xn.RED;break;case 3:e=Xn.LIGHT_GREEN;break;case 4:e=Xn.PURPLE;break;case 5:e=Xn.YELLOW;break;case 6:e=Xn.DARK_GREEN;break;case 7:e=Xn.BLACK;break;case 8:e=Xn.BROWN;break;case 9:e=Xn.BLUE;break;case 10:e=Xn.ORANGE}return e}function kt(t,e,n,r,a,i,s,o,u){for(var c=(Snap("#snapsvg"),[]),l=0;a>l;l++)wt(t+n*l,e,n,r,i,s,o,u),c.push(wt)}function wt(t,e,n,r,a,i,s,o){var u=Snap("#snapsvg"),c=u.paper.rect(t,e,n,r);c.attr({fill:a,stroke:o,strokeWidth:s,fillOpacity:i})}function Et(){var t=Snap("#snapsvg");t.clear();var e=Snap("#svg_result");e.clear()}function Tt(t){var e,n,r=Snap("#svg_result");t===!0?(e=String.fromCharCode(10004),n="green"):(e=String.fromCharCode(10006),n="red");r.text(20,32,e).attr({fontSize:"48px","text-anchor":"middle",fill:n})}function _t(){var t=he.currentIndex;if(0!==We){if(he.sessionFinished===!0)var e=1;else var e=t/We;var n=Math.round(100*e),r=n.toString()+"%",a=document.getElementById("qq-progress");50>=n?a.className="progress-bar progress-bar-info":80>=n?a.className="progress-bar progress-bar-success":90>=n?a.className="progress-bar progress-bar-warning":a.className="progress-bar progress-bar-danger",a.style.width=r;var i=document.getElementById("qq-progress-text");i.innerHTML=r+" done"}}function Lt(){var t=!1,e=he.givenAnswers.length;return e>he.currentIndex&&(t=he.givenAnswers[he.currentIndex].length>=he.answers[he.currentIndex].length),t}function Mt(t){if(ye){var e=t.keyCode,n=String.fromCharCode(e);if(isNaN(n)||" "==n){if(("negative_positive_int"==Be||"negative_positive_float"==Be)&&("-"==n||173==e)&&he.givenAnswers.length>he.currentIndex){var r=he.givenAnswers[he.currentIndex];0==r.length&&Vt(n)}if(8==e||46==e){if(he.givenAnswers.length>he.currentIndex){var r=he.givenAnswers[he.currentIndex];r.length>0&&(he.givenAnswers[he.currentIndex]=r.substr(0,r.length-1),x(he.givenAnswers[he.currentIndex]),t.preventDefault())}}else if(" "==n)t.preventDefault();else{if(!(e>=96&&105>=e))return t.preventDefault(),!1;if(Lt()===!0)return void t.preventDefault();Vt(String.fromCharCode(e>=96&&105>=e?e-48:e))}}else if(9==e||13==e)_()===!0&&Wt(),t.preventDefault();else{if(Lt()===!0)return void t.preventDefault();Vt(n)}he.currentIndex>=We?B():_()}}function Vt(t){h(t)}function Wt(){var t=document.getElementById("submit_button");t.text.toUpperCase().trim()==="Submit".toUpperCase().trim()?"Correct"!==S()&&"Incorrect"!==S()||Ht():t.text.toUpperCase().trim()==="Finish".toUpperCase().trim()?(S(),M()):M()}function Bt(){var t=document.getElementById("submit_button");t.addEventListener?t.addEventListener("click",Wt,!1):t.attachEvent?t.attachEvent("onclick",Wt):(t.onclick=Wt,t.click=Wt)}function qt(){var t=document.getElementById("hint_button");t.addEventListener?t.addEventListener("click",Ct,!1):t.attachEvent?t.attachEvent("onclick",Ct):(t.onclick=Ct,t.click=Ct)}function Dt(){var t=document.getElementById("submit_button");t.innerHTML="Submit",t.className="btn btn-default"}function Ht(){var t=document.getElementById("submit_button");t.className="btn btn-info",t.innerHTML="Next&nbsp;&nbsp;&nbsp;"}function At(t){var e=document.getElementById("submit_button");t?e.className="btn btn-success":e.className="btn btn-default"}function Ot(){var t=document.getElementById("submit_button");t.innerHTML="Finish&nbsp;&nbsp;"}function Ct(){var t=he.currentIndex;if(Rt(t,he.hints)||he.hints.push(t),_e===Je||_e===Ze){if("2"===qe.toString()){Gt(he.jumpValues.length.toString()===(2*We).toString(),"assert jumps length is twice question length");var e=(he.linePositions.slice(3*t,3*t+3),he.jumpValues.slice(2*t,2*t+2));we===Vn?mt(e):we===Wn&&xt(e)}}else if(_e===Qe)De===bn?De===bn&&et():De===Sn&&U(!0);else if(_e===on&&De===_n){var n=he.questions[he.currentIndex];f(n)}}function Nt(){he.helps.push(currentIndex)}function Ft(){Bt(),qt()}function Rt(t,e){return e.indexOf(t)>-1}function Pt(t){var e=null;return se(t)?e=parseInt(t):re(t)&&(e=parseFloat(t)),e}function jt(t){var e=40;return 2===t.length?e=34:3===t.length?e=24:4===t.length?e=18:t.length>4&&(e=12),e}function zt(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()}function Gt(t,e){}function Ut(t){var e;return t&&(e=t.replace(/\s/g,"")),e}function Yt(t){var e;return t&&(e=t.replace(/\W/g,"")),e}function Kt(t,e){var n=document.getElementById(t).style;n.opacity=1,function r(){(n.opacity-=.1)<.1?n.display="none":setTimeout(r,e)}()}function Qt(t){var e;try{e=parseInt(t,10)}catch(n){}return e}function Xt(t){return Math.max.apply(Math,t)}function $t(t){for(var e=[],n=0;n<t.length;n++)e[n]=Qt(t[n]);return e}function Jt(t,e){return t+e}function Zt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function te(t,e){return Math.floor(Math.random()*(e-t+1))+t}function ee(t){var e=t[Math.floor(Math.random()*t.length)];return e}function ne(t){for(var e=Object.keys(t),n=0;n<e.length;n++){t[e[n]]}}function re(t){return!(!t||parseFloat(t).toString()!==t.toString());
}function ae(t){return this%1!=0}function ie(t){return t===+t&&t!==(0|t)}function se(t){return t===+t&&t===(0|t)}function oe(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}function ue(t){for(var e=0,n=0,r=0;r<t.length;r++)e=t[r].length,e>n&&(n=e);return n}function ce(t){return t%2==0}function le(t,e){return t%e==0}function fe(t){return 1==Math.abs(t%2)}function de(t){var e=[];if(t&&t.length>0){Gt(ce(t.length),"listTo2D is even"),Gt(le(t.length,3),"is multiple of 3"),e=ve(t.length/3);for(var n=([e.length,e[0].length],0);n<t.length;n++)le(n,3)&&(e[n/3].push(t[n]),e[n/3].push(t[n+1]),e[n/3].push(t[n+2]))}return e}function pe(t){var e=[];if(t&&t.length>0){Gt(ce(t.length),"listTo2D is even"),e=ve(t.length/2);for(var n=([e.length,e[0].length],0);n<t.length;n++)ce(n)&&(e[n/2].push(t[n]),e[n/2].push(t[n+1]))}return e}function ve(t){for(var e=[],n=0;t>n;n++)e[n]=[];return e}function ge(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}var he,me,Ie=!1,xe=!1,be=!0,ye=!0,Se="",ke="",we="",Ee=0,Te="",_e="",Le="",Me="",Ve="",We="",Be="",qe="",De="",He="",Ae="rgba(132, 225, 132, 0.9)",Oe="rgba(255, 132, 132, 0.9)",Ce="rgb(240,0,0)",Ne="rgb(0,215,0)",Fe="rgba(225, 225, 0, 0.1)",Re="#181818",Pe="#585858",je="#787878",ze="#B0B0B0",Ge="#D3D3D3",Ue="#E9E9E9",Ye="Count",Ke="Patterns",Qe="Number bonds",Xe="Count on",$e="Count back",Je="Fun chunks",Ze="Friendly and fix",tn="Memory quest",en="Ten or hundred",nn="By place",rn="Repeated",an="Groups",sn="Fractions",on="Box method",un="Without regrouping",cn="With regrouping",ln="cc",fn="cu",dn="uc",pn="gc",vn="ccc",gn="cuc",hn="ucc",mn="ccu",In=12,xn=32,bn="counters",yn="whole-part find part",Sn="part-part find whole",kn="Basic addition",wn="Basic subtraction",En="Basic named addition",Tn="Basic named subtraction",_n="Basic named multiplication",Ln="Patterns",Mn="Numbers",Vn="Addition",Wn="Subtraction",Bn="Multiplication",qn="Division",Dn="Fractions",Hn="Decimals",An="Powers",On="Roots",Cn="Percentage",Nn="Ration",Fn="Average",Rn="Measurement",Pn="Geometry",jn="&#215;",zn="&#43;",Gn="&#45;",Un="&#61;",Yn=12,Kn=["darkorange","darkturquoise","greenyellow","lightblue","darkkhaki","coral","limegreen","aquamarine"],Qn=600;window.addEventListener("keydown",Mt,!1),"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")});var Xn={WHITE:"#ffffff",RED:"#c0392b",LIGHT_GREEN:"#2ecc71",PURPLE:"#8e44ad",YELLOW:"#f1c40f",DARK_GREEN:"#16a085",BLACK:"#34495e",BROWN:"#d35400",BLUE:"#2980b9",ORANGE:"#f39c12",CLOUDS:"#ecf0f1"},$n=0,Jn=50,Zn=50,tr=50,er=5,nr=2,rr=20,ar=15,ir=function(){var t=this.data("value");m(t)},sr={addHandler:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},getButton:function(t){if(document.implementation.hasFeature("MouseEvents","2.0"))return t.button;switch(t.button){case 0:case 1:case 3:case 5:case 7:return 0;case 2:case 6:return 2;case 4:return 1}},getCharCode:function(t){return"number"==typeof t.charCode?t.charCode:t.keyCode},getClipboardText:function(t){var e=t.clipboardData||window.clipboardData;return e.getData("text")},getEvent:function(t){return t?t:window.event},getRelatedTarget:function(t){return t.relatedTarget?t.relatedTarget:t.toElement?t.toElement:t.fromElement?t.fromElement:null},getTarget:function(t){return t.target||t.srcElement},getWheelDelta:function(t){return t.wheelDelta?client.engine.opera&&client.engine.opera<9.5?-t.wheelDelta:t.wheelDelta:40*-t.detail},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},removeHandler:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},setClipboardText:function(t,e){t.clipboardData?t.clipboardData.setData("text/plain",e):window.clipboardData&&window.clipboardData.setData("text",e)},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}},or=function(){var t=arguments;return function(){for(var e={},n=0,r=t.length;r>n;++n)e[t[n]]=arguments[n];return e}},ur=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t};"undefined"!=typeof exports&&(module.exports.generateEquations=generateEquations,module.exports.generateTwoVariableEquations=generateTwoVariableEquations,module.exports.generateQuestionText=g,module.exports.dummyAdd=q,module.exports.dummyRequirement=D,module.exports.assert=Gt,module.exports.type=zt,module.exports.strToInt=Qt,module.exports.strListToIntList=$t,module.exports.removeAllWhitespaces=Ut,module.exports.fadeOut=Kt);